f93_set_ralis_designs = {
	create_ship_design = { design = "NAME_ralis_corvette_brawl" }
	add_ship_design = last_created_design
	create_ship_design = { design = "NAME_ralis_corvette_picket" }
	add_ship_design = last_created_design
	create_ship_design = { design = "NAME_ralis_frigate_torpedo" }
	add_ship_design = last_created_design
	create_ship_design = { design = "NAME_ralis_frigate_energy" }
	add_ship_design = last_created_design
	create_ship_design = { design = "NAME_ralis_destroyer_line" }
	add_ship_design = last_created_design
	create_ship_design = { design = "NAME_ralis_destroyer_arty" }
	add_ship_design = last_created_design
	create_ship_design = { design = "NAME_ralis_cruiser_carrier" }
	add_ship_design = last_created_design
	create_ship_design = { design = "NAME_ralis_battleship_carrier" }
	add_ship_design = last_created_design
}
#Fleet 1
f93_create_ralis_fleet = {
	capital_scope = { f93_create_fleet_1 = yes } 
	change_variable = { which = f93_fleet_size value = 0.25 }
	random_system_within_border = {
		limit = { is_capital_system = no }
		star = {
			last_created_fleet = {
				set_location = prev
				set_timed_fleet_flag = { flag = recently_made days = 1080 }
			}
		}
	}
}

f93_create_fleet_1 = {
	create_fleet = {
		settings = {
			can_upgrade = yes
			can_change_composition = no
			can_change_leader = yes	
		}
		effect = {
			set_variable = { which = num_ships_original value = 1 }
			set_variable = { which = halfway_passed_midgame value = value:halfway_to_mid_game_year }
			multiply_variable = { which = halfway_passed_midgame value = -1 }
			set_variable = { which = quarterway_passed_midgame value = halfway_passed_midgame }
			divide_variable = { which = quarterway_passed_midgame value = 2 }
			set_fleet_flag = ralis_fleet_1
			set_owner = root
			while = {
				count = root.f93_fleet_size
				while = {
					count = 11 #number of possible corvettes
					random_list = {
						1 = {
							create_ship = {
								name = random
								design = NAME_ralis_corvette_brawl
							}
							change_variable = { which = num_ships_original value = 1 }
						}
						1 = {
							create_ship = {
								name = random
								design = NAME_ralis_corvette_picket
							}
							change_variable = { which = num_ships_original value = 1 }
						}
						2 = {}
					}
				}
				while = {
					count = 7 #number of possible frigates
					random_list = {
						1 = {
							create_ship = {
								name = random
								design = NAME_ralis_frigate_torpedo
							}
							change_variable = { which = num_ships_original value = 1 }
						}
						1 = {
							create_ship = {
								name = random
								design = NAME_ralis_frigate_energy
							}
							change_variable = { which = num_ships_original value = 1 }
						}
						4 = {}
					}
				}
				while = {
					count = 4 #number of possible destroyers
					random_list = {
						1 = {
							create_ship = {
								name = random
								design = NAME_ralis_destroyer_line
							}
							change_variable = { which = num_ships_original value = 1 }
						}
						1 = {
							create_ship = {
								name = random
								design = NAME_ralis_destroyer_arty
							}
							change_variable = { which = num_ships_original value = 1 }
						}
						2 = {}
					}
				}
				if = {
					while = {
						count = 1 #number of possible cruiser
						random_list = {
							1 = {
								create_ship = {
									name = random
									design = NAME_ralis_cruiser_carrier
								}
							change_variable = { which = num_ships_original value = 1 }
							}
							10 = {
								modifier = {
									factor = 0
									count_controlled_ship = {
										count > 6
										limit = { is_ship_size = cruiser }
									}
								}
							}
						}
					}
				}
				if = {
					limit = { mid_game_years_passed >= quarterway_passed_midgame }
					while = {
						count = 1 #number of possible battleship
						random_list = {
							1 = {
								create_ship = {
									name = random
									design = NAME_ralis_battleship_carrier
								}
							change_variable = { which = num_ships_original value = 1 }
							}
							10 = {
								modifier = {
									factor = 0
									count_controlled_ship = {
										count > 4
										limit = { is_ship_size = battleship }
									}
								}
							}
						}
					}
				}
			}
			set_variable = { which = num_ships_original_halfed value = num_ships_original }
			divide_variable = { which = num_ships_original_halfed value = 2 }
		}
	}
}

#Cruiser Fleet crisis
f93_create_crisis_cruiser_fleet = {
	create_fleet = {
		settings = {
			can_upgrade = yes
			can_change_composition = no
			can_change_leader = yes	
		}
		effect = {
			while = {
				count = root.f93_fleet_size
				while = {
					count = 3
					create_ship = {
						name = random
						design = crisis_corvette
					}
				}
				while = {
					count = 1
					create_ship = {
						name = random
						design = crisis_frigate
					}
				}
				while = {
					count = 2
					create_ship = {
						name = random
						design = crisis_destroyer
					}
				}
				while = {
					count = 3
					create_ship = {
						name = random
						design = crisis_cruiser
					}
				}
				while = {
					count = 1
					create_ship = {
						name = random
						design = battleship
					}
				}
			}
		}
	}
}