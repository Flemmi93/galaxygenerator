namespace = f93_ralis_diffculty
#Max out ralis fleets
# effect event_target:f93_ralis_country = { country_event = { id = f93_ralis_diffculty.1 } }
country_event = {
	id = f93_ralis_diffculty.1
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		exists = event_target:f93_ralis_country
		is_same_value = event_target:f93_ralis_country
		used_naval_capacity_percent < 1
	}
	immediate = {
		f93_create_ralis_fleet = yes
		country_event = { id = f93_ralis_diffculty.1 days = 1 }
	}
}
#moves ralis vassal fleets around
country_event = {
	id = f93_ralis_diffculty.3
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		exists = event_target:f93_ralis_subject
		is_same_value = event_target:f93_ralis_subject
	}
	immediate = {
		every_owned_fleet = {
			limit = { 
				is_in_combat = no
				exists = solar_system
				NOT = { has_fleet_flag = f93_recently_moved3 }
			}
			set_timed_fleet_flag = { flag = f93_recently_moved3 days = 360 }
			solar_system = {
				random_system_planet = { save_event_target_as = f93_ralis_target }
			}
			remove_auto_move_target = yes
			auto_move_to_planet = {
				target = event_target:f93_ralis_target
				clear_auto_move_on_arrival = yes
			}
		}
		every_owned_fleet = {
			limit = {
				has_fleet_flag = ralis_fleet_attack_gal_cro
				exists = orbit
			}
			f93_pick_random_gal_cro_system = yes
			remove_auto_move_target = yes
			auto_move_to_planet = {
				target = event_target:f93_ralis_target
				clear_auto_move_on_arrival = yes
			}
		}
		every_owned_fleet = {
			limit = {
				has_fleet_flag = ralis_fleet_attack
				exists = orbit
			}
			random_playable_country = {
				capital_scope = { save_event_target_as = f93_ralis_target }
			}
			remove_auto_move_target = yes
			auto_move_to_planet = {
				target = event_target:f93_ralis_target
				clear_auto_move_on_arrival = yes
			}
		}
	}
}

country_event = {
	id = f93_ralis_diffculty.2
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		exists = event_target:f93_ralis_country
		is_same_value = event_target:f93_ralis_country
	}
	immediate = {
		#this happens every month
		remove_modifier = fe_ship_cost_modifier
		remove_modifier = f93_pre_midgame_stabalisation
		remove_modifier = f93_artificial_ship_naval_cap_usage_mult
		remove_modifier = f93_ship_fire_rate_mult
		remove_modifier = f93_ralis_country_buff
		remove_modifier = f93_ralis_science_stop

		remove_modifier = f93_ralis_difficulty_debuff
		remove_modifier = f93_ralis_difficulty_buff
		#easy
		if = {
			limit = {
				has_global_flag = f82_button_3_1_on
			}
			get_galaxy_setup_value = {
				which = crisis_strength_cale_variable
				setting = crisis_strength_scale
				scale_by = 0.05
			}
			add_modifier = {
				modifier = f93_ralis_difficulty_buff
				mult = crisis_strength_cale_variable
			}
			add_modifier = {
				modifier = f93_ralis_difficulty_debuff
				mult = 0.5
			}
			if = {
				limit = { is_country_type = f93_shrouded_region_crisis used_naval_capacity_percent < 0.75 NOT = { has_country_flag = f93_recent_reinforcments } }
				set_timed_country_flag = {
					flag = f93_recent_reinforcments
					days = 500
				}
				f93_create_ralis_fleet = yes
			}
		}
		#default
		if = {
			limit = {
				has_global_flag = f82_button_3_2_on
			}
			get_galaxy_setup_value = {
				which = crisis_strength_cale_variable
				setting = crisis_strength_scale
				scale_by = 0.34
			}
			add_modifier = {
				modifier = f93_ralis_difficulty_buff
				mult = crisis_strength_cale_variable
			}
			add_modifier = {
				modifier = f93_ralis_difficulty_debuff
				mult = 0.4
			}
			if = {
				limit = { is_country_type = f93_shrouded_region_crisis used_naval_capacity_percent < 0.95 NOT = { has_country_flag = f93_recent_reinforcments } }
				set_timed_country_flag = {
					flag = f93_recent_reinforcments
					days = 375
				}
				f93_create_ralis_fleet = yes
			}
		}
		#hard
		if = {
			limit = {
				has_global_flag = f82_button_3_3_on
			}
			get_galaxy_setup_value = {
				which = crisis_strength_cale_variable
				setting = crisis_strength_scale
				scale_by = 1
			}
			#this value buffs their fleet cap
			add_modifier = {
				modifier = f93_ralis_difficulty_buff
				mult = crisis_strength_cale_variable
			}
			#this value slows the crisis down along the galactic crossing
			add_modifier = {
				modifier = f93_ralis_difficulty_debuff
				mult = 0.3
			}
			if = {
				limit = { is_country_type = f93_shrouded_region_crisis used_naval_capacity_percent < 0.95 NOT = { has_country_flag = f93_recent_reinforcments } }
				set_timed_country_flag = {
					flag = f93_recent_reinforcments
					days = 250
				}
				f93_create_ralis_fleet = yes
			}
		}
	}
}
